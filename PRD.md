# Snoopy-Office 产品需求文档 (PRD)

## 1. 项目概述

**项目名称**: Snoopy-Office  
**项目类型**: 像素风格AI助手状态可视化Web应用  
**核心理念**: 用像素游戏的方式直观展示AI多角色协作系统的工作状态

**参考项目**: Star-Office-UI (https://github.com/ringhyacinth/Star-Office-UI)

---

## 2. 功能需求

### 2.1 核心功能

#### 2.1.1 像素办公室场景
- **背景**: 像素风格2D俯视办公室（约800x600像素）
- **区域划分**:
  - 老板办公室（用户角色）
  - AI助手工位（主助手角色）
  - 各角色工位（产品经理、开发、测试等）
  - 休息区/摸鱼区
  - 电脑查询区
  - 会议室

#### 2.1.2 角色系统
- **角色列表**:
  | 角色 | 像素形象 | 工位 | 状态行为 |
  |------|----------|------|----------|
  | 老板(用户) | 西装老板 | 老板办公室 | 下达指令 |
  | AI助手(我) | 办公椅 | 主工位 | 分配任务/待命 |
  | 产品经理 | 戴眼镜 | 产品区 | 整理需求文档 |
  | 项目经理 | 拿看板 | 项目区 | 协调进度 |
  | 前端开发 | 敲代码 | 开发区 | 写代码 |
  | 后端开发 | 敲代码 | 开发区 | 写代码 |
  | 测试工程师 | 测bug | 测试区 | 执行测试 |
  | 安全专家 | 戴耳机 | 安全区 | 扫描漏洞 |
  | 新闻矿工 | 看电脑 | 查询区 | 搜索信息 |
  | 小说家 | 打字 | 写作区 | 创作 |

#### 2.1.3 状态行为映射
| 任务状态 | 位置 | 动画 |
|----------|------|------|
| 整理文档 | 办公桌前 | 敲键盘 |
| 搜索信息 | 电脑区 | 看屏幕 |
| 写代码 | 工位 | 敲键盘 |
| 执行测试 | 测试区 | 操作电脑 |
| 漏洞扫描 | 安全区 | 看屏幕 |
| 待命/摸鱼 | 休息区 | 躺平/走动 |
| 开会 | 会议室 | 讨论中 |

#### 2.1.4 交互功能
- **点击角色**: 弹出详情面板，显示：
  - 角色名称
  - 当前任务
  - 任务进度
  - 任务历史
- **任务气泡**: 角色头顶显示当前任务简述
- **时间轴**: 展示任务流转历史

### 2.2 数据集成

#### 2.2.1 实时状态获取
- 从OpenClaw系统获取各角色状态
- 定时轮询（每秒更新）
- 状态包括：
  - 当前执行的任务
  - 任务进度
  - 等待中的任务

#### 2.2.2 任务推送
- 点击角色可查看详情
- 支持跳转到对应系统

---

## 3. 技术架构

### 3.1 技术栈
- **前端**: 
  - 原生HTML5 Canvas 或 Phaser.js
  - 像素风格素材（使用PICO-8调色板）
- **后端**: 
  - Flask (Python) 或 Node.js
  - SSE实时推送
- **部署**: Vercel

### 3.2 文件结构
```
Snoopy-Office/
├── frontend/
│   ├── index.html      # 主页面
│   ├── style.css      # 样式
│   ├── game.js       # 游戏逻辑
│   ├── assets/       # 像素素材
│   │   ├── office_bg.png    # 办公室背景
│   │   └── characters/      # 角色精灵图
│   └── sprites/       # 动画帧
├── backend/
│   ├── app.py        # Flask后端
│   └── status.json   # 状态文件
└── public/           # 静态资源
```

---

## 4. 视觉设计

### 4.1 像素风格
- **分辨率**: 原始800x600，显示时可缩放
- **调色板**: PICO-8调色板（16色）
- **角色大小**: 16x16 或 32x32 像素

### 4.2 动画
- **移动**: 平滑移动（0.5-1秒）
- **工作**: 循环敲键盘/看屏幕动画
- **待命**: 随机小动作

---

## 5. 实施计划

### Phase 1: MVP（第1-2次迭代）
- [ ] 基础办公室背景
- [ ] 核心角色显示（助手+3个角色）
- [ ] 基础状态映射
- [ ] 点击查看详情

### Phase 2: 完整版（第3-4次迭代）
- [ ] 全部角色
- [ ] 实时状态同步
- [ ] 任务气泡
- [ ] 移动端适配

### Phase 3: 增强（第5+次迭代）
- [ ] 动画优化
- [ ] 音效
- [ ] 自定义角色皮肤
- [ ] 快捷键

---

## 6. 验收标准

1. ✅ 可在浏览器打开看到像素办公室
2. ✅ 角色根据状态在办公室内移动
3. ✅ 点击角色显示任务详情
4. ✅ 实时反映OpenClaw各角色状态
5. ✅ 部署到Vercel可访问

---

## 7. 后续扩展

- 支持语音交互
- 支持自定义办公室布局
- 支持主题切换（节日主题等）
- 支持多语言

---

**文档版本**: v1.0  
**创建时间**: 2026-02-28  
**产品负责人**: AI助手（基于用户需求设计）
